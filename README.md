# AutoGroup WhatsApp Connector

مشروع ويب احترافي لإنشاء جروبات واتساب تلقائيًا عندما يقوم العملاء بمسح رمز QR.

## الميزات

- إنشاء جروب واتساب تلقائي عند إدخال رقم العميل
- إضافة صاحب المطبعة والمصممين تلقائيًا للجروب
- إرسال رسالة ترحيب تلقائية
- حفظ بيانات الجروبات في ملف JSON محلي
- واجهة ويب احترافية بتصميم Bootstrap
- دعم اللغة العربية

## المتطلبات

- Node.js (إصدار 14 أو أحدث)
- هاتف محمول مع تطبيق WhatsApp مثبت
- اتصال إنترنت

## التثبيت والتشغيل

### 1. تحميل المشروع

```bash
git clone <repository-url>
cd AutoGroup-WhatsApp-Connector
```

### 2. تثبيت التبعيات

```bash
npm install
```

### 3. تعديل إعدادات WhatsApp

#### للتشغيل المحلي:

افتح ملف `server.js` وقم بتحديث الأرقام التالية بالأرقام الحقيقية:

```javascript
const ADMIN_NUMBER = "21003948996@c.us"; // رقم صاحب المطبعة
const DESIGNERS = [
  "201098765432@c.us", // رقم المصمم الأول
  "201011111111@c.us", // رقم المصمم الثاني
];
```

#### للنشر على Railway (الطريقة المفضلة):

1. اذهب إلى لوحة تحكم Railway
2. اختر مشروعك → **Variables** (المتغيرات)
3. أضف المتغيرات التالية:

```
ADMIN_NUMBER=201012345678@c.us
DESIGNERS=201098765432@c.us,201011111111@c.us
```

**ملاحظة مهمة:** تأكد من إضافة `@c.us` في نهاية كل رقم.

### 4. تشغيل السيرفر

```bash
npm start
```

### 5. ربط WhatsApp

عند التشغيل الأول، ستظهر رسالة في الكونسول:

```
Scan this QR code with WhatsApp:
```

- افتح تطبيق WhatsApp على هاتفك
- اذهب إلى الإعدادات → الأجهزة المرتبطة → ربط جهاز
- امسح رمز QR الذي ظهر في الكونسول
- انتظر حتى يظهر الرسالة: "WhatsApp client is ready!"

### 6. فتح المتصفح

اذهب إلى: `http://localhost:3000`

## كيفية الاستخدام

1. **للعملاء:**

   - يمسحون رمز QR (يؤدي إلى فتح الصفحة)
   - يدخلون رقم هاتفهم
   - يضغطون "ابدأ المحادثة"
   - يتم إنشاء الجروب تلقائيًا وإرسال رسالة الترحيب

2. **للمطور:**
   - راقب الكونسول للرسائل والأخطاء
   - تحقق من ملف `database.json` لبيانات الجروبات المُنشأة

## هيكل المشروع

```
AutoGroup-WhatsApp-Connector/
├── index.html          # الواجهة الأمامية
├── server.js           # السيرفر الخلفي
├── package.json        # التبعيات والإعدادات
├── database.json       # قاعدة البيانات المحلية
└── README.md          # هذا الملف
```

## التبعيات

- `express`: إطار عمل الويب
- `whatsapp-web.js`: مكتبة WhatsApp Web
- `qrcode-terminal`: عرض رمز QR في الطرفية

## استكشاف الأخطاء

### مشكلة في ربط WhatsApp

- تأكد من أن هاتفك متصل بالإنترنت
- أعد مسح رمز QR
- جرب إعادة تشغيل السيرفر

### خطأ في إنشاء الجروب

- تأكد من صحة تنسيق الأرقام (يجب أن تنتهي بـ @c.us)
- تأكد من أن الأرقام مسجلة في WhatsApp
- تحقق من اتصال الإنترنت

### السيرفر لا يبدأ

- تأكد من تثبيت Node.js
- تأكد من تشغيل `npm install`
- تحقق من عدم استخدام المنفذ 3000 بواسطة تطبيق آخر

## الأمان

- هذا المشروع مخصص للاستخدام المحلي فقط
- لا تشارك رمز QR مع أي شخص
- احتفظ بأرقام الهواتف آمنة

## النشر على Railway (مجاني)

### إعداد النشر التلقائي:

1. **اذهب إلى:** https://railway.app
2. **سجل حساب جديد** (لا يحتاج بطاقة ائتمان)
3. **انقر "New Project"**
4. **اختر "Deploy from GitHub repo"**
5. **ابحث عن `whatsapp-auto`** واختره
6. **انقر "Deploy"**

### مراقبة النشر:

- **Deploy Logs:** لمراقبة عملية النشر
- **Health Check:** `https://your-app.railway.app/health`
- **Application URL:** `https://your-app.railway.app`

### إعداد WhatsApp في Railway:

بعد النشر، يمكنك إعداد WhatsApp بطريقتين:

#### الطريقة الأسهل - من لوحة الإدارة:

1. **اذهب إلى:** `https://your-app.railway.app/admin`
2. **ستجد رمز QR** معروضاً على الصفحة
3. **امسح الرمز** بتطبيق WhatsApp على هاتفك
4. **انتظر حتى تظهر رسالة "متصل بنجاح"**

#### الطريقة التقليدية - من Deploy Logs:

1. **اذهب إلى Deploy Logs** في Railway
2. **ابحث عن رمز QR** في السجلات
3. **امسح الرمز** بتطبيق WhatsApp على هاتفك
4. **انتظر رسالة "WhatsApp client is ready!"**

### استكشاف أخطاء Railway:

- **Application failed to respond:** تحقق من `/health` endpoint
- **WhatsApp not working:** أعد مسح رمز QR
- **Port issues:** المنفذ يتم تعيينه تلقائياً

## الترخيص

هذا المشروع مفتوح المصدر ومتاح للاستخدام التجاري والشخصي.

## الدعم

إذا واجهت أي مشاكل، تحقق من:

1. رسائل الخطأ في الكونسول
2. ملف `database.json` للبيانات
3. اتصال الإنترنت وحالة WhatsApp
4. Railway deploy logs

---

تم تطوير هذا المشروع باستخدام Node.js وwhatsapp-web.js
